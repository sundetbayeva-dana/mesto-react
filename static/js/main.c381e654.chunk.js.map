{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","images/Vector.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","cardId","url","text","owner","likes","onCardLike","onCardClick","onCardDelete","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","type","onClick","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","icon","avatar","name","about","map","card","link","PopupWithForm","title","children","isOpen","onClose","buttonText","onSubmit","popupOpened","ImagePopup","api","config","_handleResponse","res","ok","json","Promise","reject","status","this","_url","_authorization","authorization","fetch","method","headers","then","data","body","JSON","stringify","id","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","value","onChange","target","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setText","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","getUserInformation","catch","err","console","log","setCards","closeAllPopups","getCards","Provider","removeLikeOnCard","dislikedCard","state","c","setLikeOnCard","likedCard","deleteCard","filter","d","userInfo","setUserInfo","setUserAvatar","addCards","newCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c381e654.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport logo from './../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>       \r\n    )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/Vector.ae1a976d.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\n\r\nfunction Card({cardId, url, text, owner, likes, onCardLike, onCardClick, onCardDelete}) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `button button_type_delete ${isOwn ? 'element_visible' : ''}`\r\n    );\r\n    \r\n    const isLiked = likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = (\r\n        `button button_type_like ${isLiked ? 'button_type_like-active' : ''}`\r\n    )\r\n\r\n    function handleLikeClick() {\r\n        onCardLike({likes, cardId})\r\n    }\r\n\r\n\r\n    function handleClick() {\r\n        onCardClick({url, text})\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete({cardId})\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button aria-label=\"Кнопка удалить\" className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}>\r\n            </button>\r\n            <img src={url} className=\"card__pic\" alt={text} onClick={handleClick} />\r\n            <div className=\"card__text\">\r\n                <h2 className=\"card__name\">{text}</h2>\r\n                <div className=\"card__like\">\r\n                    <button aria-label=\"Кнопка нравится\" className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}>\r\n                    </button>\r\n                    <p className=\"card__like-count\">{likes.length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport icon from './../images/Vector.svg';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\n\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n   \r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <img src={icon} alt=\"Изменить аватар пользователя\" className=\"profile__icon-edit\" />                \r\n                    <img src={currentUser.avatar} alt=\"Аватарка пользователя\" className=\"profile__avatar\" onClick={onEditAvatar} />\r\n                    \r\n                    \r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__info-name-cont\">\r\n                        <h1 className=\"profile__info-name\">{currentUser.name}</h1>\r\n                        <button aria-label=\"Кнопка изменить профиль\" className=\"button button_type_edit\" type=\"button\" onClick={onEditProfile}>\r\n                        </button>\r\n                    </div>\r\n                    <p className=\"profile__info-activity\">{currentUser.about}</p>\r\n                </div>\r\n                <button aria-label=\"Кнопка добавить\" className=\"button button_type_add\" type=\"button\" onClick={onAddPlace}>\r\n                </button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {cards.map((card) => {\r\n                        return (\r\n                            <Card\r\n                            key={card._id}\r\n                            cardId={card._id}\r\n                            url={card.link}\r\n                            text={card.name}\r\n                            owner={card.owner}\r\n                            likes={card.likes}\r\n                            onCardLike={onCardLike}\r\n                            onCardClick={onCardClick}\r\n                            onCardDelete={onCardDelete}                           \r\n                            />\r\n                        )                   \r\n                    })}\r\n                </ul>                \r\n            </section>\r\n\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm({name, title, children, isOpen, onClose, buttonText, onSubmit}) {\r\n    const popupOpened=`${isOpen && 'element_visible'}`\r\n    return (\r\n        <div className={`popup popup-${name} ${popupOpened}`}>            \r\n            <div className=\"popup__overlay\" onClick={onClose}></div>\r\n            <div className=\"popup__content\">\r\n                <button aria-label=\"Кнопка закрыть\" className=\"button button_type_close\" type=\"button\" onClick={onClose}>\r\n                </button>\r\n                \r\n                <h2 className=\"popup__title\">{`${title}`}</h2>\r\n                <form className=\"popup__form\" name={`${name}`} onSubmit={onSubmit}>                    \r\n                    {children}\r\n                    <button className=\"button button_type_save\" type=\"submit\" >\r\n                    {buttonText}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n    const popupOpened=`${card.url && 'element_visible'}`\r\n    return (\r\n        <div className={`popup popup-card ${popupOpened}`}>\r\n            <div className=\"popup__overlay\" onClick={onClose}></div>\r\n            <div className=\"popup-card__content\">\r\n                <button aria-label=\"Кнопка закрыть\" className=\"button button_type_close\" type=\"button\" onClick={onClose} >\r\n                </button>\r\n                <img className=\"popup-card__pic\" alt={card.text} src={card.url} />\r\n\r\n                <p className=\"popup-card__picname\">{card.text}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._authorization = config.authorization;\r\n  }  \r\n\r\n  _handleResponse = (res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      }     \r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  getUserInformation() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET', \r\n      headers: {\r\n        authorization: this._authorization,\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH', \r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      }) \r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n \r\n  setUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH', \r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({          \r\n        name: data.name,\r\n        about: data.about,  \r\n      })      \r\n    })\r\n    .then(this._handleResponse)     \r\n  }\r\n\r\n  setLikeOnCard(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      }\r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n\r\n  removeLikeOnCard(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'DELETE', \r\n      headers: {\r\n        authorization: this._authorization,\r\n      }\r\n    })\r\n    .then(this._handleResponse)    \r\n  }  \r\n\r\n  addCards(text, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: text,\r\n        link: link})  \r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n  authorization: 'a3d0e919-8de7-4208-b834-e803f8c056f2'\r\n})\r\n\r\nexport default api;","import React, {useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('')\r\n\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name)\r\n        setDescription(currentUser.about)\r\n    }, [currentUser]); \r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    return (        \r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\"  isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\r\n                                \r\n            <input placeholder=\"Имя\" className=\"popup__form-text\" name=\"name\" id=\"name-profile\" value={name || ''} onChange={handleNameChange} required />\r\n            <span className=\"name-profile-error popup__form-text-error_active\"></span>\r\n            <input placeholder=\"Занятие\" className=\"popup__form-text\" name=\"about\" id=\"description-profile\" value={description  || ''}  onChange={handleDescriptionChange} required />\r\n            <span className=\"description-profile-error popup__form-text-error_active\"></span>       \r\n        </PopupWithForm>\r\n    )   \r\n\r\n}\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();  \r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,      \r\n    });    \r\n  } \r\n  \r\n  return (\r\n    <PopupWithForm name=\"avatar-change\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">                     \r\n      <input placeholder=\"Ссылка на картинку\" className=\"popup__form-text\" name=\"link\" id=\"link-avatar-picture\" ref={avatarRef}  required />\r\n      <span className=\"link-avatar-picture-error\"></span>\r\n    </PopupWithForm>\r\n  )  \r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n    const [text, setText] = React.useState('');\r\n    const [link, setLink] = React.useState('')\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();  \r\n        onAddPlace({\r\n            text,\r\n            link\r\n        });    \r\n    } \r\n\r\n    function handleNameChange(e) {\r\n        setText(e.target.value)\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value)\r\n    }\r\n\r\n  return (\r\n    <PopupWithForm name=\"place\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\r\n                                \r\n        <input placeholder=\"Название\" className=\"popup__form-text\" name=\"name\" id=\"name-place\" onChange={handleNameChange} required />\r\n        <span className=\"name-place-error\"></span>\r\n        <input placeholder=\"Ссылка на картинку\" className=\"popup__form-text\" name=\"link\" id=\"link-place\" onChange={handleLinkChange} required />\r\n        <span className=\"link-place-error\"></span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup\r\n","import React, {useEffect} from 'react';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/Api';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup'\r\n\r\n\r\nfunction App() {\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen]= React.useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState({})\r\n\r\n    const [currentUser, setCurrentUser] = React.useState({})\r\n    useEffect(() => {\r\n        api.getUserInformation()\r\n        .then(currentUser => setCurrentUser(currentUser))\r\n        .catch((err) => {\r\n            console.log(err)\r\n        }) \r\n    }, [])\r\n\r\n    const [cards, setCards] = React.useState([])\r\n\r\n    useEffect(() => {\r\n        api.getCards()\r\n        .then(cards => setCards(cards))\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })       \r\n    }, [])\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true)\r\n    }\r\n  \r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true)\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setSelectedCard({})\r\n    }\r\n\r\n    function handleCardClick({url, text}) {\r\n        setSelectedCard({url, text})\r\n    }\r\n\r\n    function handleUpdateUser(userInfo) { \r\n        api.setUserInfo(userInfo)\r\n        .then(currentUser => setCurrentUser(currentUser))\r\n        .then(() => {\r\n            closeAllPopups()\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        }) \r\n        \r\n    }\r\n\r\n    function handleUpdateAvatar(avatar) {\r\n        api.setUserAvatar(avatar)\r\n        .then(currentUser => setCurrentUser(currentUser))\r\n        .then(() => {\r\n            closeAllPopups()\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n        \r\n    }\r\n\r\n    function handleCardLike({likes, cardId}) {\r\n        const isLiked = likes.some(i => i._id === currentUser._id);\r\n\r\n        if (!isLiked) {    \r\n            api.setLikeOnCard(cardId)\r\n            .then((likedCard) => {\r\n                setCards((state) => state.map((c) => c._id === cardId ? likedCard :c))\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n        } else {\r\n            api.removeLikeOnCard(cardId)\r\n            .then((dislikedCard) => {\r\n                setCards((state) => state.map((c) => c._id === cardId ? dislikedCard :c))\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n    function handleCardDelete({cardId}) {\r\n        api.deleteCard(cardId)\r\n        .then(() => {\r\n            setCards((state) => state.filter((d) => d._id !== cardId ?? d))\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function handleAddPlaceSubmit({text, link}) {\r\n        api.addCards(text, link)\r\n        .then((newCard) => setCards([newCard, ...cards]))\r\n        .then(() => {\r\n            closeAllPopups()\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n        \r\n    }\r\n\r\n    return (\r\n          \r\n        <div className=\"App\">\r\n            <div className=\"page\">\r\n                <div className=\"page__container\">\r\n                    <CurrentUserContext.Provider value={currentUser}>\r\n                        <Header />\r\n                        <div className=\"page__content\">\r\n                            <Main\r\n                                onEditProfile={handleEditProfileClick}\r\n                                onAddPlace={handleAddPlaceClick}\r\n                                onEditAvatar={handleEditAvatarClick}\r\n                                onClose={closeAllPopups}\r\n                                onCardClick={handleCardClick}\r\n                                cards={cards}\r\n                                onCardLike={handleCardLike}\r\n                                onCardDelete={handleCardDelete}\r\n                            />\r\n                            <Footer />\r\n\r\n                            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} >\r\n                            </EditProfilePopup>\r\n\r\n                            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}></EditAvatarPopup>\r\n\r\n                            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} ></AddPlacePopup>                          \r\n\r\n\r\n                            <PopupWithForm name=\"delete\" title=\"Вы уверены?\" isOpen={''} onClose={closeAllPopups} buttonText=\"Да\">                            \r\n                            </PopupWithForm>\r\n\r\n                            <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n\r\n                        </div>\r\n\r\n                    </CurrentUserContext.Provider>\r\n                    \r\n                    \r\n                </div>\r\n\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}